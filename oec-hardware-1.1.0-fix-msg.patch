diff -Naur rpm/hwcompatible/client.py oech/hwcompatible/client.py
--- rpm/hwcompatible/client.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/client.py	2022-07-08 11:26:56.695377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/command.py oech/hwcompatible/command.py
--- rpm/hwcompatible/command.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/command.py	2022-07-08 11:34:35.525377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/commandUI.py oech/hwcompatible/commandUI.py
--- rpm/hwcompatible/commandUI.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/commandUI.py	2022-07-08 11:26:56.696377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/compatibility.py oech/hwcompatible/compatibility.py
--- rpm/hwcompatible/compatibility.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/compatibility.py	2022-07-08 11:26:56.696377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/device.py oech/hwcompatible/device.py
--- rpm/hwcompatible/device.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/device.py	2022-07-08 11:26:56.696377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/document.py oech/hwcompatible/document.py
--- rpm/hwcompatible/document.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/document.py	2022-07-08 11:26:56.696377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
@@ -14,6 +14,7 @@
 
 """Document processing"""
 
+import os
 import json
 import configparser
 
@@ -42,7 +43,6 @@
         try:
             with open(self.filename, "w+") as save_f:
                 json.dump(self.document, save_f, indent=4)
-                save_f.close()
         except Exception as concrete_error:
             print("Error: doc save fail.\n", concrete_error)
             return False
@@ -50,12 +50,10 @@
 
     def load(self):
         """load file"""
-        try:
-            with open(self.filename, "r") as load_f:
-                self.document = json.load(load_f)
-                load_f.close()
-        except Exception:
+        if not os.path.exists(self.filename):
             return False
+        with open(self.filename, "r") as load_f:
+            self.document = json.load(load_f)
         return True
 
 
diff -Naur rpm/hwcompatible/env.py oech/hwcompatible/env.py
--- rpm/hwcompatible/env.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/env.py	2022-07-08 11:26:56.696377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/job.py oech/hwcompatible/job.py
--- rpm/hwcompatible/job.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/job.py	2022-07-08 11:26:56.697377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/log.py oech/hwcompatible/log.py
--- rpm/hwcompatible/log.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/log.py	2022-07-08 11:26:56.697377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/reboot.py oech/hwcompatible/reboot.py
--- rpm/hwcompatible/reboot.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/reboot.py	2022-07-08 11:26:56.697377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
@@ -90,7 +90,7 @@
         """
         doc = Document(CertEnv.rebootfile)
         if not doc.load():
-            print("Error: reboot file load fail.")
+            print("Warning: reboot file doesn't exist.")
             return False
 
         try:
diff -Naur rpm/hwcompatible/sysinfo.py oech/hwcompatible/sysinfo.py
--- rpm/hwcompatible/sysinfo.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/sysinfo.py	2022-07-08 11:26:56.697377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/hwcompatible/test.py oech/hwcompatible/test.py
--- rpm/hwcompatible/test.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/hwcompatible/test.py	2022-07-08 11:26:56.697377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/scripts/oech oech/scripts/oech
--- rpm/scripts/oech	2022-06-25 15:01:37.000000000 +0800
+++ oech/scripts/oech	2022-07-08 11:27:22.838377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/scripts/oech-server oech/scripts/oech-server
--- rpm/scripts/oech-server	2022-06-25 15:01:37.000000000 +0800
+++ oech/scripts/oech-server	2022-07-08 11:27:22.839377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
diff -Naur rpm/server/server.py oech/server/server.py
--- rpm/server/server.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/server/server.py	2022-07-08 12:18:18.981377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/acpi/acpi.py oech/tests/acpi/acpi.py
--- rpm/tests/acpi/acpi.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/acpi/acpi.py	2022-07-08 11:27:37.444377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/cdrom/cdrom.py oech/tests/cdrom/cdrom.py
--- rpm/tests/cdrom/cdrom.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/cdrom/cdrom.py	2022-07-08 11:27:37.445377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/clock/clock.py oech/tests/clock/clock.py
--- rpm/tests/clock/clock.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/clock/clock.py	2022-07-08 11:27:37.445377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/cpufreq/cal.py oech/tests/cpufreq/cal.py
--- rpm/tests/cpufreq/cal.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/cpufreq/cal.py	2022-07-08 11:27:37.445377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/cpufreq/cpufreq.py oech/tests/cpufreq/cpufreq.py
--- rpm/tests/cpufreq/cpufreq.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/cpufreq/cpufreq.py	2022-07-08 11:27:37.446377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
@@ -146,7 +146,7 @@
     """
     def __init__(self, cpu):
         self.cpu = cpu
-        self.process = Command("taskset -c {} python -u {}/cpufreq/cal.py".\
+        self.process = Command("taskset -c {} python3 -u {}/cpufreq/cal.py".\
                                format(self.cpu, CertEnv.testdirectoy))
         self.returncode = None
 
diff -Naur rpm/tests/disk/disk.py oech/tests/disk/disk.py
--- rpm/tests/disk/disk.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/disk/disk.py	2022-07-08 11:27:37.446377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/fibrechannel/fibrechannel.py oech/tests/fibrechannel/fibrechannel.py
--- rpm/tests/fibrechannel/fibrechannel.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/fibrechannel/fibrechannel.py	2022-07-08 11:27:37.446377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/infiniband/infiniband.py oech/tests/infiniband/infiniband.py
--- rpm/tests/infiniband/infiniband.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/infiniband/infiniband.py	2022-07-08 11:27:37.447377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/infiniband/network.py oech/tests/infiniband/network.py
--- rpm/tests/infiniband/network.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/infiniband/network.py	2022-07-08 11:27:37.447377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/infiniband/rdma.py oech/tests/infiniband/rdma.py
--- rpm/tests/infiniband/rdma.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/infiniband/rdma.py	2022-07-08 11:27:37.447377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/ipmi/ipmi.py oech/tests/ipmi/ipmi.py
--- rpm/tests/ipmi/ipmi.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/ipmi/ipmi.py	2022-07-08 11:27:37.447377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/kdump/kdump.py oech/tests/kdump/kdump.py
--- rpm/tests/kdump/kdump.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/kdump/kdump.py	2022-07-08 11:27:37.448377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/keycard/keycard.py oech/tests/keycard/keycard.py
--- rpm/tests/keycard/keycard.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/keycard/keycard.py	2022-07-08 11:27:37.449377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
 # oec-hardware is licensed under the Mulan PSL v2.gica's
diff -Naur rpm/tests/keycard/Makefile oech/tests/keycard/Makefile
--- rpm/tests/keycard/Makefile	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/keycard/Makefile	2022-07-08 11:28:10.315377084 +0800
@@ -1,5 +1,3 @@
-#!/usr/bin/env python
-# coding: utf-8
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
 # oec-hardware is licensed under the Mulan PSL v2.
 # You can use this software according to the terms and conditions of the Mulan PSL v2.
diff -Naur rpm/tests/memory/memory.py oech/tests/memory/memory.py
--- rpm/tests/memory/memory.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/memory/memory.py	2022-07-08 11:27:37.456377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/network/ethernet.py oech/tests/network/ethernet.py
--- rpm/tests/network/ethernet.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/network/ethernet.py	2022-07-08 11:27:37.456377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/network/network.py oech/tests/network/network.py
--- rpm/tests/network/network.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/network/network.py	2022-07-08 11:27:37.456377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/network/rdma.py oech/tests/network/rdma.py
--- rpm/tests/network/rdma.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/network/rdma.py	2022-07-08 11:27:37.456377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/nvme/nvme.py oech/tests/nvme/nvme.py
--- rpm/tests/nvme/nvme.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/nvme/nvme.py	2022-07-08 11:27:37.457377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/perf/perf.py oech/tests/perf/perf.py
--- rpm/tests/perf/perf.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/perf/perf.py	2022-07-08 11:27:37.457377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/raid/raid.py oech/tests/raid/raid.py
--- rpm/tests/raid/raid.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/raid/raid.py	2022-07-08 11:27:37.457377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2022 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/system/system.py oech/tests/system/system.py
--- rpm/tests/system/system.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/system/system.py	2022-07-08 11:27:37.458377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/usb/usb.py oech/tests/usb/usb.py
--- rpm/tests/usb/usb.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/usb/usb.py	2022-07-08 11:27:37.458377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
diff -Naur rpm/tests/watchdog/watchdog.py oech/tests/watchdog/watchdog.py
--- rpm/tests/watchdog/watchdog.py	2022-06-25 15:01:37.000000000 +0800
+++ oech/tests/watchdog/watchdog.py	2022-07-08 11:27:37.458377084 +0800
@@ -1,4 +1,4 @@
-#!/usr/bin/env python
+#!/usr/bin/env python3
 # coding: utf-8
 
 # Copyright (c) 2020 Huawei Technologies Co., Ltd.
